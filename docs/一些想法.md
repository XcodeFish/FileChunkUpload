你是一名前端架构设计专家，现在我想开发一个npm依赖，目的是为了解决用户在大文件上传需要写大量代码，使用我的依赖，只需要import引入，然后new
实例，进行配置即可使用
架构设计要求：
1、遵循最佳实践原则：

- 纯函数设计
- 副作用控制
- SOLID原则遵循
- DRY原则遵循 -最小化依赖原则（Minimal Dependencies）​
  使用Peer Dependencies​
  避免全局状态（Avoid Global State
  单一职责原则（Single Responsibility Principle, SRP）​
  按需加载（Lazy Loading / Code Splitting）​
  区分开发依赖和生产依赖（Dev vs Prod Dependencies）​
  ​​树摇优化（Tree Shaking）
  避免循环依赖（Avoid Circular Dependencies）​
  使用稳定的公共接口（Stable Public API）​
  关注安全（Security）​
  ​​测试隔离（Test Isolation）​
  ​​文档化（Documentation）
  ​​依赖隔离与注入（Dependency Isolation & Injection）​
  模块边界清晰（Clear Module Boundaries）​

2、目录结构设计原则
目录结构清晰，对同功能文件设计一个目录，index统一export

3、功能设计
要求所有上传方案集成，如断点续传，分片上传，秒传等

4、依赖所有错误异常应该进行统一格式 统一处理

5、安全设计
对于大文件上传以及文件安全需要进行最佳设计

6架构设计要有亮点，实用，新颖

7、设计开发者模式，用户在配置可选是否开启开发者模式，开启则会在控制台输出所有核心功能的log，便于开发者进行调试

建议

包大小考量：缺少对最终打包体积的控制策略，建议增加打包体积优化方案
依赖管理：未详细说明核心包与框架适配包之间的依赖管理策略

构建工具考虑：可考虑结合使用esbuild提高构建速度
考虑引入Turborepo：在Monorepo管理上比Lerna有更好的缓存机制
考虑PNPM：作为包管理工具，对Monorepo支持更好

Promise与Observable：考虑同时支持Promise和Observable API，提供更多的响应式能力
类型定义完善：配置项类型定义可更加严格，提供更好的类型提示
API文档：增加更详细的API使用示例和边界情况说明

插件生命周期：可进一步完善插件的生命周期管理
核心API稳定性：确保核心API的稳定性，避免频繁变更破坏插件兼容性

框架版本兼容性：明确支持的各框架最低版本要求
SSR支持：增加对服务端渲染的明确支持说明

降级策略：当浏览器不支持Web Worker时的降级策略
Worker初始化优化：考虑Worker的懒加载机制，避免初始化开销
内存管理：加强对Worker处理大文件时的内存管理策略

文件内容扫描：考虑增加恶意文件内容检测
权限校验：增加与服务端的权限校验机制设计
安全最佳实践：提供更详细的安全配置最佳实践指南

错误恢复机制：增强网络错误、服务器错误等异常情况的自动恢复机制
错误聚合：考虑增加错误信息的聚合和分析功能
生产环境日志：考虑提供可选的生产环境轻量级日志机制

预加载策略：考虑实现智能预加载策略
网络适应性：增加基于网络条件的自适应上传策略
本地缓存优化：完善IndexedDB的使用策略，优化大文件缓存

CI/CD流程：增加更详细的CI/CD流程设计
示例丰富度：增加更多实际场景的示例代码
开发工具链：考虑提供CLI工具辅助开发

监控与分析
增加上传性能和错误监控机制
提供数据分析接口，帮助优化上传策略
